webpackJsonp([12],{"0O6c":function(t,e){},"T+/8":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i("E4LH"),n=i("W/0o"),s=i("lW0f"),a=i("0xDb"),l={components:{findPassWord:s.default},mixins:[n.a],computed:{styleObj:function(){return{width:this.spewd}}},mounted:function(){this.isMobile()?(console.log("mobile"),this.spewd="90%",this.dialogWidth="100%"):(console.log("desktop"),this.spewd="520px",this.dialogWidth="50%"),this.bodyHeight=document.documentElement.clientHeight},name:"login",data:function(){return{bodyHeight:100,dialogWidth:"80%",spewd:"520px",dialogVisible:!1,loginForm:{username:"",shopserialnum:"",password:""},loginRules:{username:[{required:!0,trigger:"blur",validator:function(t,e,i){Object(o.a)(e)?i():i(new Error("请输入正确的用户名"))}}],password:[{required:!0,trigger:"blur",validator:function(t,e,i){e.length<6?i(new Error("密码不能小于6位")):i()}}],shopserialnum:[{required:!0,trigger:"blur",validator:function(t,e,i){e.length<4?i(new Error("连锁机构吗不能少于4位")):i()}}]},passwordType:"password",loading:!1,showDialog:!1}},methods:{handlefocus:function(t){},tranlatePath:function(t){return Object(a.a)(t)},showPwd:function(){"password"===this.passwordType?this.passwordType="":this.passwordType="password"},handleLogin:function(){var t=this;this.$refs.loginForm.validate(function(e){if(!e)return console.log("error submit!!"),!1;t.loading=!0,t.$store.dispatch("LoginByUsername",t.loginForm).then(function(){t.loading=!1,t.$router.push({path:"/"})}).catch(function(){t.loading=!1})})},afterQRScan:function(){},clickForgetPSW:function(){var t=this;this.dialogVisible=!0,this.$nextTick(function(){t.$refs.findPassWordRef.update()})},closeDialog:function(){this.dialogVisible=!1}},created:function(){},destroyed:function(){}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login-container",staticStyle:{"background-image":"url('static/img/loginback.jpg')"},style:{height:t.bodyHeight+"px"}},[i("el-form",{ref:"loginForm",staticClass:"login-form",style:t.styleObj,attrs:{autoComplete:"on",model:t.loginForm,rules:t.loginRules,"label-position":"left"}},[i("div",{staticClass:"title-container",staticStyle:{"text-align":"center"}},[i("img",{staticClass:"title-image",attrs:{src:t.tranlatePath("static/img/logo2.png"),width:"125"}})]),t._v(" "),i("div",{staticClass:"title"},[t._v(t._s(t.$t("login.title")))]),t._v(" "),i("el-form-item",{attrs:{prop:"username"}},[i("span",{staticClass:"svg-container"},[i("svg-icon",{attrs:{"icon-class":"user"}})],1),t._v(" "),i("el-input",{attrs:{name:"username",type:"text",autoComplete:"on",placeholder:"账号"},nativeOn:{click:function(e){t.handlefocus()}},model:{value:t.loginForm.username,callback:function(e){t.$set(t.loginForm,"username",e)},expression:"loginForm.username"}})],1),t._v(" "),i("el-form-item",{attrs:{prop:"password"}},[i("span",{staticClass:"svg-container"},[i("svg-icon",{attrs:{"icon-class":"password"}})],1),t._v(" "),i("el-input",{staticClass:"lml-phone-login",attrs:{name:"password",type:t.passwordType,autoComplete:"new-password",placeholder:"密码"},nativeOn:{click:function(e){return t.handlefocus(e)},keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleLogin(e):null}},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}}),t._v(" "),i("span",{staticClass:"show-pwd",on:{click:t.showPwd}},[i("svg-icon",{attrs:{"icon-class":"eye"}})],1)],1),t._v(" "),i("el-button",{staticStyle:{backgroud:"#fff",width:"100%","margin-bottom":"30px","text-align":"center"},attrs:{loading:t.loading},nativeOn:{click:function(e){return e.preventDefault(),t.handleLogin(e)}}},[t._v(t._s(t.$t("login.logIn")))])],1),t._v(" "),i("p",{staticStyle:{"text-align":"center","margin-bottom":"0px"}},[t._v("深圳市宇时科技有限公司")]),t._v(" "),i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],ref:"dialog_wrapper",staticClass:"dialog-container",attrs:{title:"找回密码",visible:t.dialogVisible,width:t.dialogWidth,"modal-append-to-body":!1,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("div",{attrs:{slot:"title"},slot:"title"},[i("p",{staticStyle:{color:"#37bfc8"}},[t._v("找回密码")])]),t._v(" "),i("div",{staticClass:"dialog-body"},[i("findPassWord",{ref:"findPassWordRef",on:{close:t.closeDialog}}),t._v(" "),i("div",{directives:[{name:"dialogDragWidth",rawName:"v-dialogDragWidth",value:t.$refs.dialog_wrapper,expression:"$refs.dialog_wrapper"}],staticClass:"line"})],1)])],1)},staticRenderFns:[]};var d=i("VU/8")(l,r,!1,function(t){i("T6dG"),i("0O6c")},"data-v-7ef93dc3",null);e.default=d.exports},T6dG:function(t,e){}});
//# sourceMappingURL=12.9a63fe3611a2fcdde835.js.map