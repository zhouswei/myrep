webpackJsonp([24],{Cozu:function(e,t){},l9IO:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"parent"},[a("div",{staticClass:"bg"},[a("p",{staticClass:"grid-content"},[e._v("微信公众配置")]),e._v(" "),a("p",[e._v("\n      公众号名称：\n    "),a("el-input",{staticClass:"el-input",attrs:{type:"text",autoComplete:"off",placeholder:""},model:{value:e.para.MpName,callback:function(t){e.$set(e.para,"MpName",t)},expression:"para.MpName"}}),e._v(" "),a("span",{staticStyle:{color:"#e33c32"}},[e._v("*")])],1),e._v(" "),a("p",[e._v("\n      公 众 号 ID：\n      "),a("el-input",{staticClass:"el-input",attrs:{type:"text",autoComplete:"off",placeholder:""},model:{value:e.para.MpAppID,callback:function(t){e.$set(e.para,"MpAppID",t)},expression:"para.MpAppID"}}),e._v(" "),a("span",{staticStyle:{color:"#e33c32"}},[e._v("*")])],1),e._v(" "),a("p",[e._v("\n      AppSecret：\n      "),a("el-input",{staticClass:"el-input",attrs:{type:"text",autoComplete:"off",placeholder:""},model:{value:e.para.MpAppSecret,callback:function(t){e.$set(e.para,"MpAppSecret",t)},expression:"para.MpAppSecret"}}),e._v(" "),a("span",{staticStyle:{color:"#e33c32"}},[e._v("*")])],1)]),e._v(" "),a("div",{staticClass:"bg"},[a("p",{staticClass:"grid-content"},[e._v("微信收款帐号配置")]),e._v(" "),a("p",[e._v("\n      商户号：\n      "),a("el-input",{staticClass:"el-input",attrs:{type:"text",autoComplete:"off",placeholder:""},model:{value:e.para.MCHID,callback:function(t){e.$set(e.para,"MCHID",t)},expression:"para.MCHID"}}),e._v(" "),a("span",{staticStyle:{color:"#e33c32"}},[e._v("*")])],1),e._v(" "),a("p",[e._v("\n      支付密钥：\n      "),a("el-input",{staticClass:"el-input",attrs:{type:"text",autoComplete:"off",placeholder:""},model:{value:e.para.PayKEY,callback:function(t){e.$set(e.para,"PayKEY",t)},expression:"para.PayKEY"}}),e._v(" "),a("span",{staticStyle:{color:"#e33c32"}},[e._v("*")])],1)]),e._v(" "),a("div",{staticClass:"bg"},[a("p",{staticClass:"grid-content"},[e._v("选择该公众号下的门店")]),e._v(" "),a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),e._v(" "),a("div",{staticStyle:{margin:"15px 0"}}),e._v(" "),a("el-checkbox-group",{on:{change:e.handleCheckedCitiesChange},model:{value:e.checkShops,callback:function(t){e.checkShops=t},expression:"checkShops"}},e._l(e.shops,function(t){return a("el-checkbox",{key:t.shopid,attrs:{label:t.shopid,disabled:t.disable}},[e._v(e._s(t.shopname))])}))],1),e._v(" "),a("div",{staticStyle:{width:"260px",margin:"auto","white-space":"nowrap"}},[a("el-button",{staticClass:"el_save_btn",on:{click:e.clickConfirm}},[e._v("确定")]),e._v(" "),a("el-button",{staticClass:"el_cancel_btn",on:{click:e.clickCancel}},[e._v("取消")])],1)])},staticRenderFns:[]};var i=a("VU/8")({data:function(){return{shops:[],checkShops:[],checkAll:!1,isIndeterminate:!1,loading:!0,para:{id:0,MpName:"",MpAppID:"",MpAppSecret:"",MCHID:"",PayKEY:"",ShopIDs:""}}},created:function(){this.getShops()},methods:{update:function(){this.checkShops=[],this.isIndeterminate=!1,this.checkAll=!1,this.para={id:0,MpName:"",MpAppID:"",MpAppSecret:"",MCHID:"",PayKEY:"",ShopIDs:""},this.getShops()},handleCheckAllChange:function(e){var t=[];this.shops.forEach(function(e){e.disable||t.push(e.shopid)}),this.checkShops=e?t:[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(e){this.checkShops=e;var t=e.length;this.checkAll=t===this.shops.length,this.isIndeterminate=t>0&&t<this.shops.length},clickConfirm:function(){var e=this;if(this.dataValidation()){for(var t=[],a=0;a<this.checkShops.length;a++)this.checkShops.length-1!==a?t.push(this.checkShops[a]+","):t.push(this.checkShops[a]);this.para.ShopIDs=t.join(""),this.$store.dispatch("queryAddWxConfigInfo",this.para).then(function(t){e.$message({type:"success",message:"添加成功"}),e.$emit("close")}).catch(function(){})}},clickCancel:function(){this.$emit("close")},dataValidation:function(){return""===this.para.MpName.trim()?(this.$message.error("请输入公众号名称"),!1):""===this.para.MpAppID.trim()?(this.$message.error("请输入公众号ID"),!1):""===this.para.MpAppSecret.trim()?(this.$message.error("请输入AppSecret"),!1):""===this.para.MCHID.trim()?(this.$message.error("请输入商户号"),!1):""!==this.para.PayKEY.trim()||(this.$message.error("请输入支付密钥"),!1)},getShops:function(){var e=this;this.loading=!0,this.$store.dispatch("queryShops",{id:0}).then(function(t){e.shops=[],t.forEach(function(t){var a={};a.shopid=t.shopid,a.shopname=t.shopname,a.address=t.address,a.authtype=t.authtype,a.groupaccountid=t.groupaccountid,0===a.groupaccountid?a.disable=!1:a.disable=!0,e.shops.push(a)}),e.loading=!1}).catch(function(){})}}},s,!1,function(e){a("Cozu")},"data-v-68cdcd32",null);t.default=i.exports}});
//# sourceMappingURL=24.659be22bfdfb01f78331.js.map